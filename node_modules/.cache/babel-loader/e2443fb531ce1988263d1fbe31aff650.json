{"ast":null,"code":"import { login } from \"../actions/authAction\";\nimport { AUTH_LOGIN, AUTH_LOGOUT, AUTH_POPUP, AUTH_UPDATEINFO } from \"../actions/type\";\nlet initialState = {\n  login: false,\n  user: null,\n  popupOpen: false\n};\nexport default function authReducer(state = initialState, active) {\n  switch (active.type) {\n    case AUTH_POPUP:\n      return { ...state,\n        popupOpen: active.payload\n      };\n\n    case AUTH_LOGIN:\n      localStorage.setItem('auth', JSON.stringify({\n        user: active.payload,\n        login: true\n      }));\n\n      if (active.payload.token) {\n        localStorage.setItem('token', JSON.stringify(active.payload.token));\n      }\n\n      return { ...state,\n        login: true,\n        user: active.payload\n      };\n\n    case AUTH_LOGOUT:\n      localStorage.removeItem('auth');\n      localStorage.removeItem('token');\n      return { ...state,\n        login: false,\n        user: null\n      };\n\n    case AUTH_UPDATEINFO:\n      return { ...state,\n        user: active.payload\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["D:/CFD/react JS/react-cfd/src/redux/reducers/authReducer.jsx"],"names":["login","AUTH_LOGIN","AUTH_LOGOUT","AUTH_POPUP","AUTH_UPDATEINFO","initialState","user","popupOpen","authReducer","state","active","type","payload","localStorage","setItem","JSON","stringify","token","removeItem"],"mappings":"AAAA,SAASA,KAAT,QAAsB,uBAAtB;AACA,SAASC,UAAT,EAAqBC,WAArB,EAAkCC,UAAlC,EAA8CC,eAA9C,QAAqE,iBAArE;AAEA,IAAIC,YAAY,GAAG;AACfL,EAAAA,KAAK,EAAE,KADQ;AAEfM,EAAAA,IAAI,EAAE,IAFS;AAGfC,EAAAA,SAAS,EAAE;AAHI,CAAnB;AAMA,eAAe,SAASC,WAAT,CAAqBC,KAAK,GAAGJ,YAA7B,EAA2CK,MAA3C,EAAmD;AAC9D,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKR,UAAL;AACI,aAAO,EACH,GAAGM,KADA;AAEHF,QAAAA,SAAS,EAAEG,MAAM,CAACE;AAFf,OAAP;;AAKJ,SAAKX,UAAL;AAGIY,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAe;AACxCV,QAAAA,IAAI,EAAEI,MAAM,CAACE,OAD2B;AAExCZ,QAAAA,KAAK,EAAE;AAFiC,OAAf,CAA7B;;AAIA,UAAIU,MAAM,CAACE,OAAP,CAAeK,KAAnB,EAA0B;AACtBJ,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAeN,MAAM,CAACE,OAAP,CAAeK,KAA9B,CAA9B;AACH;;AACD,aAAO,EACH,GAAGR,KADA;AAEHT,QAAAA,KAAK,EAAE,IAFJ;AAGHM,QAAAA,IAAI,EAAEI,MAAM,CAACE;AAHV,OAAP;;AAOJ,SAAKV,WAAL;AACIW,MAAAA,YAAY,CAACK,UAAb,CAAwB,MAAxB;AACAL,MAAAA,YAAY,CAACK,UAAb,CAAwB,OAAxB;AACA,aAAO,EACH,GAAGT,KADA;AAEHT,QAAAA,KAAK,EAAE,KAFJ;AAGHM,QAAAA,IAAI,EAAE;AAHH,OAAP;;AAKJ,SAAKF,eAAL;AACI,aAAO,EACH,GAAGK,KADA;AAEHH,QAAAA,IAAI,EAAEI,MAAM,CAACE;AAFV,OAAP;;AAIJ;AACI,aAAOH,KAAP;AAtCR;AAyCH","sourcesContent":["import { login } from \"../actions/authAction\";\r\nimport { AUTH_LOGIN, AUTH_LOGOUT, AUTH_POPUP, AUTH_UPDATEINFO } from \"../actions/type\";\r\n\r\nlet initialState = {\r\n    login: false,\r\n    user: null,\r\n    popupOpen: false\r\n}\r\n\r\nexport default function authReducer(state = initialState, active) {\r\n    switch (active.type) {\r\n        case AUTH_POPUP:\r\n            return {\r\n                ...state,\r\n                popupOpen: active.payload\r\n            }\r\n\r\n        case AUTH_LOGIN:\r\n\r\n\r\n            localStorage.setItem('auth', JSON.stringify({\r\n                user: active.payload,\r\n                login: true\r\n            }))\r\n            if (active.payload.token) {\r\n                localStorage.setItem('token', JSON.stringify(active.payload.token))\r\n            }\r\n            return {\r\n                ...state,\r\n                login: true,\r\n                user: active.payload\r\n            }\r\n\r\n\r\n        case AUTH_LOGOUT:\r\n            localStorage.removeItem('auth')\r\n            localStorage.removeItem('token')\r\n            return {\r\n                ...state,\r\n                login: false,\r\n                user: null\r\n            }\r\n        case AUTH_UPDATEINFO:\r\n            return {\r\n                ...state,\r\n                user: active.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}