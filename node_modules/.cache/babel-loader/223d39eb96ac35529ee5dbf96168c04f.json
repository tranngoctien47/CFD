{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nlet emailPattern = /^[a-z][a-z0-9_\\.]{5,32}@[a-z0-9]{2,}(\\.[a-z0-9]{2,4}){1,2}$/i,\n    phonePattern = /(84|0[3|5|7|8|9])+([0-9]{8})\\b/i,\n    fbPattern = /(?:http:\\/\\/)?(?:www.)?facebook.com\\/(?:(?:\\w)*#!\\/)?(?:pages\\/)?(?:[?\\w\\-]*\\/)?(?:profile.php\\?id=(\\d.*))?([\\w\\-]*)?/i;\nexport default function useFormValidate(initialForm, validate) {\n  _s();\n\n  let {\n    rule,\n    message\n  } = validate;\n  let [form, setForm] = useState(initialForm);\n  let [error, setError] = useState({});\n\n  function inputChange(e) {\n    let name = e.target.name;\n    let value = e.target.value;\n    let type = e.target.type;\n\n    if (type === 'checkbox') {\n      value = e.target.checked;\n    }\n\n    setForm({ ...form,\n      [name]: value\n    });\n  }\n\n  function check() {\n    let errorObj = {};\n\n    for (let i in rule) {\n      let r = rule[i];\n      let m = (message === null || message === void 0 ? void 0 : message[i]) || null;\n\n      if (r.required && !form[i]) {\n        errorObj[i] = (m === null || m === void 0 ? void 0 : m.required) || \"không được để trống\";\n      }\n\n      if (r.pattern && form[i]) {\n        let pattern = r.pattern;\n        if (pattern === 'email') pattern = emailPattern;\n        if (pattern === 'phone') pattern = phonePattern;\n        if (pattern === 'facebook') pattern = fbPattern;\n\n        if (!pattern.test(form[i])) {\n          errorObj[i] = (m === null || m === void 0 ? void 0 : m.pattern) || \"không đúng định dạng\";\n        }\n\n        if (!fbPattern.test(form[i])) {\n          errorObj[i] = (m === null || m === void 0 ? void 0 : m.fbPattern) || \"fb không đúng định dạng\";\n        }\n      }\n    }\n\n    setError(errorObj);\n    return errorObj;\n  }\n\n  return {\n    form,\n    error,\n    inputChange,\n    check\n  };\n}\n\n_s(useFormValidate, \"1c/2IlqEH0T1njgkRNDQkurUb0s=\");","map":{"version":3,"sources":["D:/CFD/react JS/react-cfd/src/core/useFormValidate.jsx"],"names":["useState","emailPattern","phonePattern","fbPattern","useFormValidate","initialForm","validate","rule","message","form","setForm","error","setError","inputChange","e","name","target","value","type","checked","check","errorObj","i","r","m","required","pattern","test"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;AAEA,IAAIC,YAAY,GAAG,8DAAnB;AAAA,IACIC,YAAY,GAAG,iCADnB;AAAA,IAEIC,SAAS,GAAG,wHAFhB;AAIA,eAAe,SAASC,eAAT,CAAyBC,WAAzB,EAAsCC,QAAtC,EAAgD;AAAA;;AAE3D,MAAI;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoBF,QAAxB;AAEA,MAAI,CAACG,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAACK,WAAD,CAA9B;AACA,MAAI,CAACM,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,EAAD,CAAhC;;AAKA,WAASa,WAAT,CAAqBC,CAArB,EAAwB;AACpB,QAAIC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASD,IAApB;AACA,QAAIE,KAAK,GAAGH,CAAC,CAACE,MAAF,CAASC,KAArB;AACA,QAAIC,IAAI,GAAGJ,CAAC,CAACE,MAAF,CAASE,IAApB;;AAGA,QAAIA,IAAI,KAAK,UAAb,EAAyB;AACrBD,MAAAA,KAAK,GAAGH,CAAC,CAACE,MAAF,CAASG,OAAjB;AACH;;AAGDT,IAAAA,OAAO,CAAC,EACJ,GAAGD,IADC;AAEJ,OAACM,IAAD,GAAQE;AAFJ,KAAD,CAAP;AAKH;;AACD,WAASG,KAAT,GAAiB;AACb,QAAIC,QAAQ,GAAG,EAAf;;AAEA,SAAK,IAAIC,CAAT,IAAcf,IAAd,EAAoB;AAChB,UAAIgB,CAAC,GAAGhB,IAAI,CAACe,CAAD,CAAZ;AACA,UAAIE,CAAC,GAAG,CAAAhB,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAGc,CAAH,CAAP,KAAgB,IAAxB;;AAEA,UAAIC,CAAC,CAACE,QAAF,IAAc,CAAChB,IAAI,CAACa,CAAD,CAAvB,EAA4B;AACxBD,QAAAA,QAAQ,CAACC,CAAD,CAAR,GAAc,CAAAE,CAAC,SAAD,IAAAA,CAAC,WAAD,YAAAA,CAAC,CAAEC,QAAH,KAAe,qBAA7B;AACH;;AAED,UAAIF,CAAC,CAACG,OAAF,IAAajB,IAAI,CAACa,CAAD,CAArB,EAA0B;AACtB,YAAII,OAAO,GAAGH,CAAC,CAACG,OAAhB;AACA,YAAIA,OAAO,KAAK,OAAhB,EAAyBA,OAAO,GAAGzB,YAAV;AACzB,YAAIyB,OAAO,KAAK,OAAhB,EAAyBA,OAAO,GAAGxB,YAAV;AACzB,YAAIwB,OAAO,KAAK,UAAhB,EAA4BA,OAAO,GAAGvB,SAAV;;AAE5B,YAAI,CAACuB,OAAO,CAACC,IAAR,CAAalB,IAAI,CAACa,CAAD,CAAjB,CAAL,EAA4B;AACxBD,UAAAA,QAAQ,CAACC,CAAD,CAAR,GAAc,CAAAE,CAAC,SAAD,IAAAA,CAAC,WAAD,YAAAA,CAAC,CAAEE,OAAH,KAAc,sBAA5B;AACH;;AAED,YAAI,CAACvB,SAAS,CAACwB,IAAV,CAAelB,IAAI,CAACa,CAAD,CAAnB,CAAL,EAA8B;AAC1BD,UAAAA,QAAQ,CAACC,CAAD,CAAR,GAAc,CAAAE,CAAC,SAAD,IAAAA,CAAC,WAAD,YAAAA,CAAC,CAAErB,SAAH,KAAgB,yBAA9B;AACH;AAEJ;AACJ;;AAEDS,IAAAA,QAAQ,CAACS,QAAD,CAAR;AACA,WAAQA,QAAR;AACH;;AAED,SAAO;AACHZ,IAAAA,IADG;AACGE,IAAAA,KADH;AACUE,IAAAA,WADV;AACuBO,IAAAA;AADvB,GAAP;AAGH;;GA9DuBhB,e","sourcesContent":["import { useState } from \"react\";\r\n\r\nlet emailPattern = /^[a-z][a-z0-9_\\.]{5,32}@[a-z0-9]{2,}(\\.[a-z0-9]{2,4}){1,2}$/i,\r\n    phonePattern = /(84|0[3|5|7|8|9])+([0-9]{8})\\b/i,\r\n    fbPattern = /(?:http:\\/\\/)?(?:www.)?facebook.com\\/(?:(?:\\w)*#!\\/)?(?:pages\\/)?(?:[?\\w\\-]*\\/)?(?:profile.php\\?id=(\\d.*))?([\\w\\-]*)?/i\r\n\r\nexport default function useFormValidate(initialForm, validate) {\r\n\r\n    let { rule, message } = validate;\r\n\r\n    let [form, setForm] = useState(initialForm)\r\n    let [error, setError] = useState({\r\n\r\n    })\r\n\r\n\r\n    function inputChange(e) {\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        let type = e.target.type\r\n\r\n\r\n        if (type === 'checkbox') {\r\n            value = e.target.checked\r\n        }\r\n\r\n\r\n        setForm({\r\n            ...form,\r\n            [name]: value,\r\n\r\n        })\r\n    }\r\n    function check() {\r\n        let errorObj = {}\r\n\r\n        for (let i in rule) {\r\n            let r = rule[i]\r\n            let m = message?.[i] || null\r\n\r\n            if (r.required && !form[i]) {\r\n                errorObj[i] = m?.required || \"không được để trống\"\r\n            }\r\n\r\n            if (r.pattern && form[i]) {\r\n                let pattern = r.pattern\r\n                if (pattern === 'email') pattern = emailPattern\r\n                if (pattern === 'phone') pattern = phonePattern\r\n                if (pattern === 'facebook') pattern = fbPattern\r\n\r\n                if (!pattern.test(form[i])) {\r\n                    errorObj[i] = m?.pattern || \"không đúng định dạng\"\r\n                }\r\n\r\n                if (!fbPattern.test(form[i])) {\r\n                    errorObj[i] = m?.fbPattern || \"fb không đúng định dạng\"\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        setError(errorObj)\r\n        return (errorObj)\r\n    }\r\n\r\n    return {\r\n        form, error, inputChange, check\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}