{"ast":null,"code":"import _regeneratorRuntime from\"D:/CFD/react JS/react-cfd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/CFD/react JS/react-cfd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"D:/CFD/react JS/react-cfd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{useEffect,useState}from\"react\";import courseApi from\"../../../api/courseApi\";import userApi from\"../../../api/userApi\";import useAuth from\"../../../core/useAuth\";import useFormValidate from\"../../../core/useFormValidate\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Tab1(){var _useAuth=useAuth(),user=_useAuth.user,updateInfoProfile=_useAuth.updateInfoProfile;var _useFormValidate=useFormValidate(_objectSpread({},user),{rule:{name:{required:true},phone:{required:true,pattern:\"phone\"},fb:{required:true},skype:{required:true}},message:{name:{required:\"Họ tên không được để trống\"},phone:{required:\"Phone không được để trống\",pattern:\"Sai số điện thoại\"},email:{required:\"Email không được để trống\",pattern:\"Email không đúng định dạng\"},fb:{required:\"Facebook không được để trống\",pattern:\"Facebook không đúng định dạng\"}},options:{localStorage:\"profile-info\"}}),form=_useFormValidate.form,error=_useFormValidate.error,inputChange=_useFormValidate.inputChange,check=_useFormValidate.check;function _save(){return _save2.apply(this,arguments);}function _save2(){_save2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var error,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:error=check();console.log(error);if(!(Object.keys(error).length===0)){_context.next=8;break;}_context.next=5;return userApi.updateInfo(form);case 5:res=_context.sent;console.log(form);if(res.data){updateInfoProfile(res.data);}case 8:case\"end\":return _context.stop();}}},_callee);}));return _save2.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"tab1\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"H\\u1ECD v\\xE0 t\\xEAn\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{onChange:inputChange,name:\"name\",value:form.name,type:\"text\"}),error.name&&/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:error.name})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{onChange:inputChange,name:\"phone\",value:form.phone,type:\"text\"}),error.phone&&/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:error.phone})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Email\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{defaultValue:user.email,disabled:true,type:\"text\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Facebook\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{onChange:inputChange,name:\"fb\",value:form.fb,type:\"text\"}),error.fb&&/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:error.fb})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Skype\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{onChange:inputChange,name:\"skype\",value:form.skype,type:\"text\"}),error.skype&&/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:error.skype})]}),/*#__PURE__*/_jsx(\"div\",{className:\"btn main rect\",onClick:_save,children:\"L\\u01AFU L\\u1EA0I\"})]});}","map":{"version":3,"sources":["D:/CFD/react JS/react-cfd/src/pages/profile/components/Tab1.jsx"],"names":["useEffect","useState","courseApi","userApi","useAuth","useFormValidate","Tab1","user","updateInfoProfile","rule","name","required","phone","pattern","fb","skype","message","email","options","localStorage","form","error","inputChange","check","_save","console","log","Object","keys","length","updateInfo","res","data"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport courseApi from \"../../../api/courseApi\";\r\nimport userApi from \"../../../api/userApi\";\r\nimport useAuth from \"../../../core/useAuth\";\r\nimport useFormValidate from \"../../../core/useFormValidate\"\r\n\r\nexport default function Tab1() {\r\n    let { user, updateInfoProfile } = useAuth()\r\n\r\n\r\n    let { form, error, inputChange, check } = useFormValidate({ ...user }, {\r\n        rule: {\r\n            name: {\r\n                required: true,\r\n            },\r\n            phone: {\r\n                required: true,\r\n                pattern: \"phone\",\r\n            },\r\n            fb: {\r\n                required: true,\r\n\r\n            },\r\n            skype: {\r\n                required: true,\r\n\r\n            }\r\n        },\r\n        message: {\r\n            name: {\r\n                required: \"Họ tên không được để trống\"\r\n            },\r\n            phone: {\r\n                required: \"Phone không được để trống\",\r\n                pattern: \"Sai số điện thoại\"\r\n            },\r\n            email: {\r\n                required: \"Email không được để trống\",\r\n                pattern: \"Email không đúng định dạng\"\r\n\r\n            },\r\n            fb: {\r\n                required: \"Facebook không được để trống\",\r\n                pattern: \"Facebook không đúng định dạng\"\r\n            }\r\n        }, options: {\r\n            localStorage: \"profile-info\"\r\n        }\r\n    })\r\n\r\n\r\n    async function _save() {\r\n        let error = check();\r\n        console.log(error);\r\n\r\n        if (Object.keys(error).length === 0) {\r\n            let res = await userApi.updateInfo(form);\r\n\r\n            console.log(form);\r\n            if (res.data) {\r\n                updateInfoProfile(res.data)\r\n\r\n            }\r\n\r\n\r\n\r\n        }\r\n\r\n    }\r\n    return (\r\n        <div className=\"tab1\">\r\n            <label>\r\n                <p>Họ và tên<span>*</span></p>\r\n                <input onChange={inputChange} name=\"name\" value={form.name} type=\"text\" />\r\n                {error.name && <p className=\"error-text\">{error.name}</p>}\r\n            </label>\r\n            <label>\r\n                <p>Số điện thoại<span>*</span></p>\r\n                <input onChange={inputChange} name=\"phone\" value={form.phone} type=\"text\" />\r\n                {error.phone && <p className=\"error-text\">{error.phone}</p>}\r\n            </label>\r\n            <label>\r\n                <p>Email<span>*</span></p>\r\n                <input defaultValue={user.email} disabled type=\"text\" />\r\n            </label>\r\n            <label>\r\n                <p>Facebook<span>*</span></p>\r\n                <input onChange={inputChange} name=\"fb\" value={form.fb} type=\"text\" />\r\n                {error.fb && <p className=\"error-text\">{error.fb}</p>}\r\n            </label>\r\n            <label>\r\n                <p>Skype<span>*</span></p>\r\n                <input onChange={inputChange} name=\"skype\" value={form.skype} type=\"text\" />\r\n                {error.skype && <p className=\"error-text\">{error.skype}</p>}\r\n            </label>\r\n            <div className=\"btn main rect\" onClick={_save}>LƯU LẠI</div>\r\n        </div >\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}