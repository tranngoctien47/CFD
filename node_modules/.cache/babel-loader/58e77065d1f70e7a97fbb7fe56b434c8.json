{"ast":null,"code":"import _objectSpread from\"D:/CFD/react JS/react-cfd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"D:/CFD/react JS/react-cfd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/CFD/react JS/react-cfd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/CFD/react JS/react-cfd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{useHistory,useParams}from\"react-router\";import courseApi from\"../../api/courseApi\";import useFormValidate from\"../../core/useFormValidate\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){var _useParams=useParams(),slug=_useParams.slug;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),test=_useState2[0],setTest=_useState2[1];var history=useHistory();var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),course=_useState4[0],setCourse=_useState4[1];useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return courseApi.detail(slug);case 2:res=_context.sent;if(res.data){setCourse(res.data);}// fetch(`http://cfd-reactjs.herokuapp.com/elearning/v4/course/${slug}`)\n//     .then(res => res.json())\n//     .then(res => {\n//         setCourse(res.data)\n//     })\ncase 4:case\"end\":return _context.stop();}}},_callee);})),[slug]);// let [form, setForm] = useState({\n//     name: '',\n//     phone: '',\n//     email: '',\n//     facebook: '',\n//     payment: 'chuyen-khoan',\n//     note: '',\n//     coin: false,\n//     gender: 'male',\n//     gender2: '',\n// });\n// let [error, setError] = useState({\n//     name: '',\n//     phone: '',\n//     email: '',\n//     facebook: '',\n//     payment: '',\n//     note: '',\n//     coin: false,\n// });\nvar _useFormValidate=useFormValidate({name:'',phone:'',email:'',fb:'',payment:'chuyen-khoan',note:'',coin:false,gender:'male',gender2:''},{rule:{name:{required:true},phone:{required:true,pattern:\"phone\"},email:{required:true,pattern:\"email\"},fb:{required:true,pattern:/^(?:http(s)?:\\/\\/)?www.facebook.com\\/[\\w.-]+$/i}},message:{name:{required:\"Họ tên không được để trống\"},phone:{required:\"Phone không được để trống\",pattern:\"Sai số điện thoại\"},email:{required:\"Email không được để trống\",pattern:\"Email không đúng định dạng\"}}}),form=_useFormValidate.form,error=_useFormValidate.error,inputChange=_useFormValidate.inputChange,check=_useFormValidate.check,setForm=_useFormValidate.setForm;// function inputChange(e) {\n//     // let name = e.target.name\n//     // let value = e.target.value\n//     // let type = e.target.type\n//     // if (type === 'checkbox') {\n//     //     value = e.target.checked\n//     // }\n//     // setForm({\n//     //     ...form,\n//     //     [name]: value,\n//     // })\n// }\nfunction pay(){document.querySelector(' .register-course .wrap .select .sub').style.display='block';closePay();}function closePay(){var text2=document.querySelector('.register-course .wrap .select .head');var text=document.querySelectorAll('.sub a');text.forEach(function(item){item.addEventListener('click',function(){var text1=item.innerHTML;text2.innerHTML=item.innerHTML;document.querySelector('.register-course .wrap .select .sub').style.display='none';});});}function btnResgister(){return _btnResgister.apply(this,arguments);}function _btnResgister(){_btnResgister=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var errorObj,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:errorObj=check();if(!(Object.keys(errorObj).length===0)){_context2.next=6;break;}_context2.next=4;return courseApi.register(form,slug);case 4:res=_context2.sent;if(res.success){history.push(\"/course/\".concat(slug));}case 6:case\"end\":return _context2.stop();}}},_callee2);}));return _btnResgister.apply(this,arguments);}function _selectPay(e){e.preventDefault();setForm(_objectSpread(_objectSpread({},form),{},{payment:e.target.dataset.value}));}if(!course)return'Loading...';return/*#__PURE__*/_jsx(\"main\",{className:\"register-course\",id:\"main\",children:/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrap container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"main-sub-title\",children:\"\\u0110\\u0102NG K\\xDD\"}),/*#__PURE__*/_jsxs(\"h1\",{className:\"main-title\",children:[course.title,\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"date\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Khai gi\\u1EA3ng:\"}),\" 15/11/2020\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"time\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Th\\u1EDDi l\\u01B0\\u1EE3ng:\"}),\" 18 bu\\u1ED5i\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"time\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"H\\u1ECDc ph\\xED:\"}),\" 6.000.000 VND\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"H\\u1ECD v\\xE0 t\\xEAn\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{value:form.name,onChange:inputChange,type:\"text\",name:\"name\",placeholder:\"H\\u1ECD v\\xE0 t\\xEAn b\\u1EA1n\"}),error.name&&/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:error.name})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{value:form.phone,onChange:inputChange,name:\"phone\",type:\"text\",placeholder:\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"}),error.phone&&/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:error.phone})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Email\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{value:form.email,onChange:inputChange,name:\"email\",type:\"text\",placeholder:\"Email c\\u1EE7a b\\u1EA1n\"}),error.email&&/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:error.email})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"URL Facebook\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{value:form.fb,onChange:inputChange,name:\"fb\",type:\"text\",placeholder:\"https://facebook.com\"}),error.fb&&/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:error.fb})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"disable\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"S\\u1EED d\\u1EE5ng COIN\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkcontainer\",children:[\"Hi\\u1EC7n c\\xF3 \",/*#__PURE__*/_jsx(\"strong\",{children:\"300 COIN\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"coin\",checked:form.coin,onClick:inputChange}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"disable\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Gi\\u1EDBi t\\xEDnh\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkcontainer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"gender\",value:\"male\",checked:form.gender==='male',onClick:inputChange}),\" Male\",/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"})]}),/*#__PURE__*/_jsx(\"label\",{className:\"disable radio2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"checkcontainer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"gender\",value:\"female\",checked:form.gender==='female',onClick:inputChange}),\" Female\",/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"})]})})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"disable\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Gi\\u1EDBi t\\xEDnh\"}),/*#__PURE__*/_jsx(\"div\",{className:\"checkcontainer\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"gender2\",name:\"gender2\",id:\"\",onClick:inputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",selected:form.gender2===\"\",children:\"---Gender---\"}),/*#__PURE__*/_jsx(\"option\",{value:\"female\",selected:form.gender2===\"female\",children:\"  Female\"}),/*#__PURE__*/_jsx(\"option\",{value:\"male\",selected:form.gender2===\"male\",children:\"Male\"})]})})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"H\\xECnh th\\u1EE9c thanh to\\xE1n\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"select\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"head\",onClick:pay,children:\"Chuy\\u1EC3n kho\\u1EA3n\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sub\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",\"data-value\":\"chuyen-khoan\",onClick:_selectPay,children:\"Chuy\\u1EC3n kho\\u1EA3n\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",\"data-value\":\"tien-mat\",onClick:_selectPay,children:\"Thanh to\\xE1n ti\\u1EC1n m\\u1EB7t\"})]})]})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\xDD ki\\u1EBFn c\\xE1 nh\\xE2n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Mong mu\\u1ED1n c\\xE1 nh\\xE2n v\\xE0 l\\u1ECBch b\\u1EA1n c\\xF3 th\\u1EC3 h\\u1ECDc.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"btn main rect\",onClick:btnResgister,children:\"\\u0111\\u0103ng k\\xFD\"})]})]})})})});}","map":{"version":3,"sources":["D:/CFD/react JS/react-cfd/src/pages/register/index.jsx"],"names":["useEffect","useState","useHistory","useParams","courseApi","useFormValidate","Register","slug","test","setTest","history","course","setCourse","detail","res","data","name","phone","email","fb","payment","note","coin","gender","gender2","rule","required","pattern","message","form","error","inputChange","check","setForm","pay","document","querySelector","style","display","closePay","text2","text","querySelectorAll","forEach","item","addEventListener","text1","innerHTML","btnResgister","errorObj","Object","keys","length","register","success","push","_selectPay","e","preventDefault","target","dataset","value","title"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport courseApi from \"../../api/courseApi\";\r\nimport useFormValidate from \"../../core/useFormValidate\";\r\n\r\nexport default function Register() {\r\n\r\n    let { slug } = useParams()\r\n\r\n    let [test, setTest] = useState(false)\r\n\r\n    let history = useHistory()\r\n\r\n    let [course, setCourse] = useState()\r\n\r\n    useEffect(async () => {\r\n        let res = await courseApi.detail(slug)\r\n        if (res.data) {\r\n            setCourse(res.data)\r\n        }\r\n        // fetch(`http://cfd-reactjs.herokuapp.com/elearning/v4/course/${slug}`)\r\n        //     .then(res => res.json())\r\n        //     .then(res => {\r\n        //         setCourse(res.data)\r\n        //     })\r\n    }, [slug])\r\n\r\n\r\n\r\n\r\n    // let [form, setForm] = useState({\r\n    //     name: '',\r\n    //     phone: '',\r\n    //     email: '',\r\n    //     facebook: '',\r\n    //     payment: 'chuyen-khoan',\r\n    //     note: '',\r\n    //     coin: false,\r\n    //     gender: 'male',\r\n    //     gender2: '',\r\n    // });\r\n\r\n    // let [error, setError] = useState({\r\n    //     name: '',\r\n    //     phone: '',\r\n    //     email: '',\r\n    //     facebook: '',\r\n    //     payment: '',\r\n    //     note: '',\r\n    //     coin: false,\r\n    // });\r\n\r\n    let { form, error, inputChange, check, setForm } = useFormValidate({\r\n        name: '',\r\n        phone: '',\r\n        email: '',\r\n        fb: '',\r\n        payment: 'chuyen-khoan',\r\n        note: '',\r\n        coin: false,\r\n        gender: 'male',\r\n        gender2: '',\r\n    }, {\r\n        rule: {\r\n            name: {\r\n                required: true,\r\n            },\r\n            phone: {\r\n                required: true,\r\n                pattern: \"phone\",\r\n            },\r\n            email: {\r\n                required: true,\r\n                pattern: \"email\"\r\n\r\n            },\r\n            fb: {\r\n                required: true,\r\n                pattern: /^(?:http(s)?:\\/\\/)?www.facebook.com\\/[\\w.-]+$/i\r\n\r\n            }\r\n        },\r\n        message: {\r\n            name: {\r\n                required: \"Họ tên không được để trống\"\r\n            },\r\n            phone: {\r\n                required: \"Phone không được để trống\",\r\n                pattern: \"Sai số điện thoại\"\r\n            },\r\n            email: {\r\n                required: \"Email không được để trống\",\r\n                pattern: \"Email không đúng định dạng\"\r\n\r\n            },\r\n\r\n        }\r\n    })\r\n\r\n    // function inputChange(e) {\r\n    //     // let name = e.target.name\r\n    //     // let value = e.target.value\r\n    //     // let type = e.target.type\r\n\r\n\r\n    //     // if (type === 'checkbox') {\r\n    //     //     value = e.target.checked\r\n    //     // }\r\n\r\n\r\n    //     // setForm({\r\n    //     //     ...form,\r\n    //     //     [name]: value,\r\n\r\n    //     // })\r\n    // }\r\n\r\n\r\n    function pay() {\r\n        document.querySelector(' .register-course .wrap .select .sub').style.display = 'block'\r\n        closePay();\r\n    }\r\n\r\n    function closePay() {\r\n        let text2 = document.querySelector('.register-course .wrap .select .head')\r\n        let text = document.querySelectorAll('.sub a')\r\n        text.forEach((item) => {\r\n            item.addEventListener('click', function () {\r\n                let text1 = item.innerHTML\r\n                text2.innerHTML = item.innerHTML\r\n                document.querySelector('.register-course .wrap .select .sub').style.display = 'none'\r\n\r\n            })\r\n        })\r\n    }\r\n\r\n\r\n    async function btnResgister() {\r\n\r\n\r\n        let errorObj = check()\r\n\r\n        if (Object.keys(errorObj).length === 0) {\r\n            let res = await courseApi.register(form, slug)\r\n            if (res.success) {\r\n                history.push(`/course/${slug}`)\r\n            }\r\n        }\r\n    }\r\n\r\n    function _selectPay(e) {\r\n        e.preventDefault()\r\n\r\n        setForm({\r\n            ...form,\r\n            payment: e.target.dataset.value\r\n        })\r\n    }\r\n\r\n\r\n    if (!course) return 'Loading...'\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <main className=\"register-course\" id=\"main\">\r\n            <section>\r\n                <div className=\"container\">\r\n                    <div className=\"wrap container\">\r\n                        <div className=\"main-sub-title\">ĐĂNG KÝ</div>\r\n                        <h1 className=\"main-title\">{course.title} </h1>\r\n                        <div className=\"main-info\">\r\n                            <div className=\"date\"><strong>Khai giảng:</strong> 15/11/2020</div>\r\n                            <div className=\"time\"><strong>Thời lượng:</strong> 18 buổi</div>\r\n                            <div className=\"time\"><strong>Học phí:</strong> 6.000.000 VND</div>\r\n                        </div>\r\n                        <div className=\"form\">\r\n                            <label>\r\n                                <p>Họ và tên<span>*</span></p>\r\n                                <input value={form.name} onChange={inputChange} type=\"text\" name=\"name\" placeholder=\"Họ và tên bạn\" />\r\n                                {error.name && <p className=\"error-text\">{error.name}</p>}\r\n                            </label>\r\n                            <label>\r\n                                <p>Số điện thoại<span>*</span></p>\r\n                                <input value={form.phone} onChange={inputChange} name='phone' type=\"text\" placeholder=\"Số điện thoại\" />\r\n                                {error.phone && <p className=\"error-text\">{error.phone}</p>}\r\n                            </label>\r\n                            <label>\r\n                                <p>Email<span>*</span></p>\r\n                                <input value={form.email} onChange={inputChange} name='email' type=\"text\" placeholder=\"Email của bạn\" />\r\n                                {error.email && <p className=\"error-text\">{error.email}</p>}\r\n                            </label>\r\n                            <label>\r\n                                <p>URL Facebook<span>*</span></p>\r\n                                <input value={form.fb} onChange={inputChange} name='fb' type=\"text\" placeholder=\"https://facebook.com\" />\r\n                                {error.fb && <p className=\"error-text\">{error.fb}</p>}\r\n                            </label>\r\n                            <label className=\"disable\">\r\n                                <p>Sử dụng COIN</p>\r\n                                <div className=\"checkcontainer\">\r\n                                    Hiện có <strong>300 COIN</strong>\r\n                                    {/* Giảm giá còn <span><strong>5.800.000 VND</strong>, còn lại 100 COIN</span> */}\r\n                                    {/* Cần ít nhất 200 COIN để giảm giá */}\r\n                                    <input type=\"checkbox\" name='coin' checked={form.coin} onClick={inputChange} />\r\n                                    <span className=\"checkmark\" />\r\n                                </div>\r\n                            </label>\r\n                            <label className=\"disable\">\r\n                                <p>Giới tính</p>\r\n                                <div className=\"checkcontainer\">\r\n\r\n                                    <input type=\"radio\" name='gender' value='male' checked={form.gender === 'male'} onClick={inputChange} /> Male\r\n                                    <span className=\"checkmark\" />\r\n                                </div>\r\n                                {/* <div className=\"checkcontainer radio2\">\r\n\r\n                                    <input type=\"radio\" name='gender' value='female' checked={form.gender === 'female'} onClick={inputChange} /> Female\r\n                                    <span className=\"checkmark\" />\r\n\r\n\r\n                                </div> */}\r\n                                <label className=\"disable radio2\">\r\n                                    <div className=\"checkcontainer\">\r\n\r\n                                        <input type=\"radio\" name='gender' value='female' checked={form.gender === 'female'} onClick={inputChange} /> Female\r\n                                    <span className=\"checkmark\" />\r\n                                    </div>\r\n\r\n                                </label>\r\n                            </label>\r\n                            <label className=\"disable\">\r\n                                <p>Giới tính</p>\r\n                                <div className=\"checkcontainer\">\r\n\r\n                                    <select className='gender2' name='gender2' id='' onClick={inputChange}>\r\n                                        <option value=\"\" selected={form.gender2 === \"\"}>---Gender---</option>\r\n                                        <option value=\"female\" selected={form.gender2 === \"female\"}>  Female</option>\r\n                                        <option value=\"male\" selected={form.gender2 === \"male\"}>Male</option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                            </label>\r\n\r\n\r\n\r\n                            {/* <label>\r\n                                <p>Hình thức thanh toán</p>\r\n                                <div className=\"select\">\r\n                                    <div className=\"head\" onClick={pay}>Chuyển khoản</div>\r\n                                    <div className=\"sub\">\r\n                                        <a href=\"#\" data-value='chuyen-khoan' onClick={_selectPay.bind(null, 'chuyen-khoan')}>Chuyển khoản</a>\r\n                                        <a href=\"#\" data-value='tien-mat' onClick={_selectPay.bind(null, 'tien-mat')}>Thanh toán tiền mặt</a>\r\n                                    </div>\r\n                                </div>\r\n                            </label> */}\r\n\r\n\r\n                            <label>\r\n                                <p>Hình thức thanh toán</p>\r\n                                <div className=\"select\">\r\n                                    <div className=\"head\" onClick={pay}>Chuyển khoản</div>\r\n                                    <div className=\"sub\">\r\n                                        <a href=\"#\" data-value='chuyen-khoan' onClick={_selectPay}>Chuyển khoản</a>\r\n                                        <a href=\"#\" data-value='tien-mat' onClick={_selectPay}>Thanh toán tiền mặt</a>\r\n                                    </div>\r\n                                </div>\r\n                            </label>\r\n                            <label>\r\n                                <p>Ý kiến cá nhân</p>\r\n                                <input type=\"text\" placeholder=\"Mong muốn cá nhân và lịch bạn có thể học.\" />\r\n\r\n                            </label>\r\n                            <div className=\"btn main rect\" onClick={btnResgister}>đăng ký</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </main>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}